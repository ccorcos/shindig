check-duration = .2s

.checkbox
  height: checkbox-height
  width: checkbox-height
  border-radius: (checkbox-height*.2)
  position: relative
  display: inline-block
  box-sizing: border-box
  transition: border-color ease check-duration/2
  cursor: pointer
  background-color: #111
  box-shadow: inset 0 0 1px #000

  transition: background-color check-duration
  &.checked
    background-color: color-red

  &::before, &::after
    box-sizing: border-box
    position: absolute
    width: 3px
    background-color: checked-color
    display: inline-block
    transform-origin: left top
    border-radius: 5px
    content: ' '
    transition: opacity ease check-duration

  &::after
    top: (checkbox-height * .39)
    left: (checkbox-height * .07)
    transform: rotate(-45deg)

  &::before
    top: (checkbox-height * .74)
    left: (checkbox-height * .43)
    transform: rotate(-135deg)

  &::after
    height: 0px
    transition: height (check-duration/2) ease (check-duration/2)
  &::before
    height: 0px
    transition: height (check-duration/2) ease

  &.checked
    &::after
      height: (checkbox-height * .5)
      transition: height check-duration ease

    &::before
      height: (checkbox-height * 1.0)
      transition: height (check-duration/2) ease (check-duration/2)

.checkbox-label
  margin-left: 10px
